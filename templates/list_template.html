<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Jinja V3 Forum{% endblock %}</title>
</head>
<body>
<h1>{% block h1 %}{% endblock %}</h1><br>

<h4>{%block h4%}{% endblock %}</h4>

{% block table %}
<table border="1">
    {% if forum_posts != [] %}
        <tr>
        {% for key in forum_posts[0].keys() %}
        <th>
             {% block ascend %}<a href="/list?order_by={{ key }}&order_direction=asc">&#8648</a>{% endblock %}
            {{ key.upper() if '_' not in key else key.replace('_', ' ').upper() }}
            {% block descend %}<a href="/list?order_by={{ key }}&order_direction=desc">&#8650</a>{% endblock %}
        </th>
        {% endfor %}
    {% else %}
        {{ 'There is no question yet' }}
        </tr>
    {% endif %}
    {% if forum_posts != [] %}
            {% for QNA in forum_posts %}
                <tr>
                {% for key, value in QNA.items() %}
                    {% if key == 'title' %}
                        {% block question_link %}<td><a href="/question/{{ QNA['id'] }}">{{ value }}</a></td>{% endblock %}
                        {% block question_title %}<td>{{ value }}</td>{% endblock %}
                    {% else %}
                        <td>{{ value }}</td>
                    {% endif %}
                {% endfor %}
                </tr>
            {% endfor %}
    {% endif %}
</table>
{% endblock %}
</body>
</html>